# Завантаження та виконання скриптів у JavaScript

При підключенні скриптів до HTML-сторінки існує кілька способів керування їхнім завантаженням та виконанням: 

- `async`
- `defer`
- Динамічне створення скриптів

## 1. Стандартне завантаження скриптів

За замовчуванням `<script>` без атрибутів завантажується та виконується **відразу при обробці HTML**, що **блокує рендеринг**.

```html
<!DOCTYPE html>
<html lang="uk">
<head>
    <title>Завантаження скриптів</title>
</head>
<body>
    <script src="script.js"></script> <!-- Виконання блокує HTML -->
</body>
</html>
```

## 2. Атрибут `async`

Скрипт із `async` завантажується **паралельно з HTML**, але виконується **відразу після завантаження** (може порушити порядок виконання).

```html
<script async src="script.js"></script>
```

### Особливості `async`:
✔ Скрипт завантажується асинхронно.
✔ Виконується одразу після завантаження.
❌ Порядок виконання не гарантований.

### Коли використовувати `async`?
- Для незалежних скриптів, які не залежать від інших (аналітика, реклама, трекери тощо).

## 3. Атрибут `defer`

Скрипт із `defer` завантажується **паралельно з HTML**, але **виконується лише після повного розбору HTML**.

```html
<script defer src="script.js"></script>
```

### Особливості `defer`:
✔ Скрипт завантажується асинхронно.
✔ Виконується після повного завантаження HTML.
✔ Гарантує порядок виконання (якщо їх декілька).

### Коли використовувати `defer`?
- Для скриптів, які взаємодіють з DOM (бо HTML уже завантажений).
- Якщо є кілька скриптів, які мають виконуватися в певному порядку.

## 4. Динамічне створення скриптів

Скрипти можна створювати **динамічно** у JavaScript через `document.createElement`:

```js
let script = document.createElement("script");
script.src = "script.js";
script.async = true; // або script.defer = true

document.body.appendChild(script); // Додаємо у DOM
```

### Коли використовувати динамічні скрипти?
- Для **завантаження залежностей** після події (наприклад, після кліку).
- Для **lazy loading** (ліниве завантаження) неважливих частин.
- Для **запобігання блокуванню сторінки**.

## 5. Порівняння `async`, `defer` і стандартного підключення

| Атрибут  | Завантаження | Виконання | Гарантія порядку |
|----------|-------------|------------|-----------------|
| (без атрибутів) | Під час парсингу HTML | Одразу після завантаження | ❌ Ні |
| `async`  | Паралельно з HTML | Одразу після завантаження | ❌ Ні |
| `defer`  | Паралельно з HTML | Після повного парсингу HTML | ✅ Так |

## Висновки
- **`async`** добре підходить для незалежних скриптів.
- **`defer`** ідеальний для скриптів, що працюють із DOM.
- **Динамічні скрипти** корисні для завантаження ресурсів на вимогу.

Правильний вибір підходу допоможе оптимізувати продуктивність сайту!
